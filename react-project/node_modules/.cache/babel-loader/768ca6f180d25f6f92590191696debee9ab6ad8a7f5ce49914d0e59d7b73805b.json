{"ast":null,"code":"var _jsxFileName = \"/Users/siyuanji/Documents/info340/project-GROUPWORK/react-project/src/components/Content.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Routes, Route, Outlet, Navigate, useNavigate } from 'react-router-dom';\nimport { getAuth, onAuthStateChanged } from 'firebase/auth';\nimport { getDatabase, ref, set as firebaseSet, push as firebasePush, onValue } from 'firebase/database';\nimport HomePage from './Homepage';\nimport SearchPage from './SearchPage';\nimport ComparePage from \"./ComparePage\";\nimport ApplicationPage from \"./Application\";\nimport Detail from './Detail';\nimport FavoritePage from \"./FavoritePage\";\nimport SignInPage from './SigninPage';\nimport ProtectedRoute from \"../auth/protected.route\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DEFAULT_USERS = [{\n  userId: null,\n  userName: \"Log Out\",\n  userImg: '/img/null.png'\n} //null user\n];\n\nexport default function Content(props) {\n  _s();\n  const [currentUser, setCurrentUser] = useState(DEFAULT_USERS[0]); //initially null;\n  console.log(\"rendering App with user\", currentUser);\n  const navigateTo = useNavigate(); //navigation hook\n\n  //effect to run when the component first loads\n  useEffect(() => {\n    //log in a default user\n    //loginUser(DEFAULT_USERS[1])\n\n    onAuthStateChanged(getAuth(), function (firebaseUser) {\n      console.log(\"someone logged in or logged out!\");\n      if (firebaseUser) {\n        //not null, so signed in\n        //local changes\n        firebaseUser.userId = firebaseUser.uid;\n        firebaseUser.userName = firebaseUser.displayName;\n        console.log(firebaseUser);\n      } else {\n        //signed out\n        setCurrentUser(DEFAULT_USERS[0]);\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/search\",\n        element: /*#__PURE__*/_jsxDEV(SearchPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/compare\",\n        element: /*#__PURE__*/_jsxDEV(ComparePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/app\",\n        element: /*#__PURE__*/_jsxDEV(ApplicationPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/detail/:id\",\n        element: /*#__PURE__*/_jsxDEV(Detail, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 52\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"favorite\",\n        element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          children: /*#__PURE__*/_jsxDEV(FavoritePage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signin\",\n        element: /*#__PURE__*/_jsxDEV(SignInPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n_s(Content, \"sYO32MaF8hf4fKdtyFCiNVS3qLc=\", false, function () {\n  return [useNavigate];\n});\n_c = Content;\nvar _c;\n$RefreshReg$(_c, \"Content\");","map":{"version":3,"names":["React","useEffect","useState","Routes","Route","Outlet","Navigate","useNavigate","getAuth","onAuthStateChanged","getDatabase","ref","set","firebaseSet","push","firebasePush","onValue","HomePage","SearchPage","ComparePage","ApplicationPage","Detail","FavoritePage","SignInPage","ProtectedRoute","jsxDEV","_jsxDEV","DEFAULT_USERS","userId","userName","userImg","Content","props","_s","currentUser","setCurrentUser","console","log","navigateTo","firebaseUser","uid","displayName","children","path","element","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/siyuanji/Documents/info340/project-GROUPWORK/react-project/src/components/Content.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { Routes, Route, Outlet, Navigate, useNavigate } from 'react-router-dom';\r\nimport { getAuth, onAuthStateChanged } from 'firebase/auth';\r\n\r\nimport { getDatabase, ref, set as firebaseSet, push as firebasePush, onValue } from 'firebase/database'\r\n\r\nimport HomePage from './Homepage';\r\nimport SearchPage from './SearchPage'\r\nimport ComparePage from \"./ComparePage\";\r\nimport ApplicationPage from \"./Application\";\r\nimport Detail from './Detail'\r\nimport FavoritePage from \"./FavoritePage\";\r\nimport SignInPage from './SigninPage';\r\nimport ProtectedRoute from \"../auth/protected.route\";\r\n\r\n\r\nconst DEFAULT_USERS = [\r\n    { userId: null, userName: \"Log Out\", userImg: '/img/null.png' }, //null user\r\n]\r\n\r\nexport default function Content(props) {\r\n    const [currentUser, setCurrentUser] = useState(DEFAULT_USERS[0]) //initially null;\r\n    console.log(\"rendering App with user\", currentUser);\r\n  \r\n    const navigateTo = useNavigate(); //navigation hook\r\n  \r\n    //effect to run when the component first loads\r\n    useEffect(() => {\r\n      //log in a default user\r\n      //loginUser(DEFAULT_USERS[1])\r\n  \r\n      onAuthStateChanged(getAuth(), function(firebaseUser) {\r\n        console.log(\"someone logged in or logged out!\");\r\n        if(firebaseUser) { //not null, so signed in\r\n          //local changes\r\n          firebaseUser.userId = firebaseUser.uid;\r\n          firebaseUser.userName = firebaseUser.displayName;\r\n          console.log(firebaseUser);        \r\n        } \r\n        else { //signed out\r\n         setCurrentUser(DEFAULT_USERS[0]);\r\n        }\r\n      })\r\n    }, [])\r\n    \r\n    return (\r\n        <div>\r\n            <Routes>\r\n                <Route path=\"/\" element={<HomePage />} />\r\n                <Route path=\"/search\" element={<SearchPage />} />\r\n                <Route path=\"/compare\" element={<ComparePage />} />\r\n                <Route path=\"/app\" element={<ApplicationPage />} />\r\n                <Route path=\"/detail/:id\" element={<Detail />} />\r\n                <Route path=\"favorite\" element={\r\n                  <ProtectedRoute>\r\n                    <FavoritePage />\r\n                  </ProtectedRoute>\r\n                } />\r\n                <Route path=\"/signin\" element={<SignInPage />} />\r\n                {/* <Route path=\"*\" element={<NotFound />} /> */}\r\n            </Routes>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}